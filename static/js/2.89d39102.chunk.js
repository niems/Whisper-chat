(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{21:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(1),s=n.n(r),c=n(5),u=n.n(c),i=n(4),l=n.n(i),p=n(13),f=n(17),d=n.n(f),m={},h=0,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:function(e){var t=e,n=m[t]||(m[t]={});if(n[e])return n[e];var a=d.a.compile(e);return h<1e4&&(n[e]=a,h++),a}(e)(t,{pretty:!0})},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){l()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(p.b)(e.to),n=Object(p.b)(this.props.to);Object(p.c)(t,n)?u()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"===typeof n?b(n,t.params):g({},n,{pathname:b(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(o.a.Component);v.propTypes={computedMatch:s.a.object,push:s.a.bool,from:s.a.string,to:s.a.oneOfType([s.a.string,s.a.object]).isRequired},v.defaultProps={push:!1},v.contextTypes={router:s.a.shape({history:s.a.shape({push:s.a.func.isRequired,replace:s.a.func.isRequired}).isRequired,staticContext:s.a.object}).isRequired};var w=v;t.a=w},41:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(91),s=n(11);t.a=function(){return o.a.createElement(s.a.Consumer,null,function(e){var t=e.basePath;return o.a.createElement(r.a,{to:t,className:"navigate home abs-top-left"},o.a.createElement("img",{src:"./assets/svg/placeholder/round-back-arrow.svg",alt:"navigate back to homepage"}))})}},42:function(e,t,n){"use strict";var a=function(e){return e.length<4||e.length>15?(console.log("Invalid username: must be 4 - 15 characters long."),!1):!/\W+/.test(e)||(console.log("Invalid username: can ONLY contain letters, numbers, and an underscores (_)"),!1)},o=function(e){return e.length<6||e.length>12?(console.log("Invalid password: must be 6 - 12 characters long"),!1):/[a-zA-Z]+/.test(e)?/\d+/.test(e)?/\s+/.test(e)?(console.log("Invalid password: cannot include spaces"),!1):!!/\W+/.test(e)||(console.log("Invalid password: MUST include at least 1 symbol"),!1):(console.log("Invalid password: must include at least 1 number"),!1):(console.log("Invalid password: must include at least 1 letter"),!1)};t.a=function(e){var t=e.username,n=e.password;return!!a(t)&&!!o(n)}},43:function(e,t,n){"use strict";function a(e,t){return new Promise(function(n,a){var o=Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&");return fetch(t,{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},referrer:"no-referrer",referrerPolicy:"no-referrer-when-downgrade",body:o}).then(function(e){return console.log("response status: ".concat(e.status)),console.log("\theaders: ".concat(JSON.stringify(e.headers),"\n")),404===e.status?a("404 status - rejecteddddd"):n(e)}).catch(function(e){return a(e)})})}n.d(t,"a",function(){return a})},95:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(91),s=n(11),c=n(41),u=n(6),i=n(7),l=n(9),p=n(8),f=n(10),d=n(3),m=n(21),h=n(12),b=n(16),g=n(42),v=n(43);var w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={username:"",password:"",loginSuccessful:!1},n.usernameRef=o.a.createRef(),n.passwordRef=o.a.createRef(),n.focusInput=n.focusInput.bind(Object(d.a)(Object(d.a)(n))),n.onChange=n.onChange.bind(Object(d.a)(Object(d.a)(n))),n.onSubmit=n.onSubmit.bind(Object(d.a)(Object(d.a)(n))),n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.usernameRef.current.focus()}},{key:"componentWillUnmount",value:function(){this.state.loginSuccessful&&this.props.authenticate(this.state.username)}},{key:"focusInput",value:function(e){console.log("id: ".concat(e.target.id))}},{key:"onChange",value:function(e){switch(e.preventDefault(),e.target.id){case"username":this.setState({username:e.target.value});break;case"password":this.setState({password:e.target.value});break;default:console.log('ID "'.concat(e.target.id,'" not found - no action taken'))}}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var n,a=this.state,o=a.username,r=a.password;Object(g.a)({username:o,password:r})?(this.props.newNotification("Verifying account...",5e3),(n={username:o,password:r},Object(v.a)(n,"https://afternoon-springs-45644.herokuapp.com/login")).then(function(e){return e.json()}).then(function(e){!0===e.accountExists?t.setState({loginSuccessful:!0}):t.props.newNotification("Invalid username and/or password...",5e3,"error")}).catch(function(){t.props.newNotification("Failed to connect to server",5e3,"error")})):console.log("invalid fields...no action taken")}},{key:"render",value:function(){var e=this;return o.a.createElement(s.a.Consumer,null,function(t){var n=t.basePath;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:e.onSubmit},o.a.createElement("input",{id:"username",className:"rounded-border",type:"text",placeholder:"username",value:e.state.username,onChange:e.onChange,ref:e.usernameRef,required:!0}),o.a.createElement("input",{id:"password",className:"rounded-border",type:"password",placeholder:"password",value:e.state.password,onChange:e.onChange,ref:e.passwordRef,required:!0}),o.a.createElement("button",{id:"submit",type:"submit",onClick:e.onSubmit},"SIGN IN")),e.state.loginSuccessful?o.a.createElement(m.a,{to:"".concat(n,"profile")}):null)})}}]),t}(a.Component),y=function(e){return o.a.createElement(b.a.Consumer,null,function(t){var n=t.newNotification;return o.a.createElement(h.a.Consumer,null,function(t){var a=t.authenticate;return o.a.createElement(w,Object.assign({},e,{authenticate:a,newNotification:n}))})})};t.default=function(){return o.a.createElement(s.a.Consumer,null,function(e){var t=e.basePath;return o.a.createElement("article",{id:"login",className:"wrapper center"},o.a.createElement(c.a,null),o.a.createElement("h1",null,"Login"),o.a.createElement(y,null),o.a.createElement("p",{className:"related-info"},"Think you have an account? We'll just see...",o.a.createElement("br",null),"Or create a new account"," ",o.a.createElement(r.a,{to:"".concat(t,"create-account"),className:"link-to-default"},"here")))})}}}]);
//# sourceMappingURL=2.89d39102.chunk.js.map